<mat-sidenav-container class="ap-h-full ">
    <mat-sidenav mode="side" [opened]="showSidnav$ | async">
        <app-sidenav-routes-list></app-sidenav-routes-list>
    </mat-sidenav>
    <mat-sidenav-content class="thin-scrollbars ">
        <div *ngIf="(isEmbedded$ | async) === undefined || (isEmbedded$ | async) === false"
            class="ap-absolute ap-z-50  ap-w-full ap-border-b ap-bg-white">
            <div class="ap-flex ap-items-center  ap-py-5 ap-px-2 sm:ap-px-[1.875rem]">
                @if((isInPlatformRoute$ | async) === undefined || (isInPlatformRoute$ | async) === false ) {
                    <app-project-switcher
                    ></app-project-switcher>
                }
                <!-- @if((isInPlatformRoute$ | async) === true) {
                    <div class="ap-typography-headline-5 !ap-font-semibold"
                    i18n>Platform Admin</div>
                } -->
                <div class="ap-flex-grow"></div>
                <div class="ap-flex ap-gap-2">
                <app-request-trial-button-component></app-request-trial-button-component>
                <!-- <app-invite-user-button></app-invite-user-button> -->
                <!-- <app-admin-console-button [isInPlatformRoute]="(isInPlatformRoute$ | async | defaultFalse)" [showPlatform]="showPlatform$ | async | defaultFalse"></app-admin-console-button> -->
                </div>
                <!-- <div class="ap-flex ap-mx-3 ">
                    <app-tasks-progress></app-tasks-progress>
                </div> -->
                <ap-user-avatar class="ap-ml-[20px]"></ap-user-avatar>
            </div>

        </div>
        <div class="ap-h-full"
            [class.ap-pt-7.5]="((isEmbedded$ | async) === undefined || (isEmbedded$ | async) === false)">

            <router-outlet></router-outlet>
            @if(showPoweredByAp$ | async)
            {
                <div  class="ap-h-[70px] ap-w-full" #paddingForStickyNote>
                </div>
            }

        </div>
    </mat-sidenav-content>

    <mat-sidenav #contactSalesSlideout mode="over" disableClose="true" [opened]="contactSalesState$ | async"
        position="end" class="ap-max-w-[600px]">
        <ap-contact-sales (cancel)="closeContactSalesSlideout()"></ap-contact-sales>
    </mat-sidenav>

</mat-sidenav-container>
@if(showPoweredByAp$ | async)
{
    <div
    class="ap-sticky  ap-bg-transparent ap-pointer-events-none   ap-bottom-0 ap-pb-5 ap-z-50 ap-mr-5 ap-ml-28">
    <div class="ap-flex ap-justify-end  ap-bg-transparent">
        <ap-powered-by-activepieces></ap-powered-by-activepieces>
    </div>
</div>
}


@if(issuesCountCheck$ | async) {}
